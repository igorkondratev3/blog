import{u as l,T as i,S as c,F as u,a as p}from"./TheHeader.75ce592a.js";import{r,c as _,n}from"./index.dad816ca.js";import{g as v}from"./common.444ab4c5.js";const f=()=>{const s={title:r(""),shortDescription:r(""),fullDescription:r("")},e=_(()=>s.title.value.trim().length>0&&s.shortDescription.value.trim().length>0&&s.title.value.length<=50&&s.shortDescription.value.length<=100&&s.fullDescription.value.length<=255);return{postData:s,isCorrectPostData:e}},m=(s,e)=>{const o={title:s.title.value,shortDescription:s.shortDescription.value,fullDescription:s.fullDescription.value,date:v(),comments:[]};let t=JSON.parse(localStorage.getItem("posts"));t?t.push(o):t=[o],localStorage.setItem("posts",JSON.stringify(t)),e.push("/")};const D={__name:"postCreationForm",setup(s){const e=l(),{postData:o,isCorrectPostData:t}=f();return{__sfc:!0,router:e,postData:o,isCorrectPostData:t,TitleInput:i,ShortDescription:c,FullDescription:u,createPost:m}}};var h=function(){var e=this,o=e._self._c,t=e._self._setupProxy;return o("form",{staticClass:"post-creation-form"},[o(t.TitleInput,{attrs:{maxlength:50},model:{value:t.postData.title.value,callback:function(a){e.$set(t.postData.title,"value",a)},expression:"postData.title.value"}}),o(t.ShortDescription,{attrs:{maxlength:100},model:{value:t.postData.shortDescription.value,callback:function(a){e.$set(t.postData.shortDescription,"value",a)},expression:"postData.shortDescription.value"}}),o(t.FullDescription,{attrs:{maxlength:255},model:{value:t.postData.fullDescription.value,callback:function(a){e.$set(t.postData.fullDescription,"value",a)},expression:"postData.fullDescription.value"}}),o("button",{staticClass:"create-post-button base-button",attrs:{disabled:!t.isCorrectPostData},on:{click:function(a){return a.preventDefault(),t.createPost(t.postData,t.router)}}},[e._v(" \u0421\u043E\u0437\u0434\u0430\u0442\u044C \u0437\u0430\u043F\u0438\u0441\u044C ")])],1)},d=[],g=n(D,h,d,!1,null,null,null,null);const C=g.exports;const x={__name:"CreatePost",setup(s){return{__sfc:!0,PostCreationForm:C,TheHeader:p}}};var P=function(){var e=this,o=e._self._c,t=e._self._setupProxy;return o("div",{staticClass:"create-post page"},[o(t.TheHeader,{attrs:{header:"\u0421\u043E\u0437\u0434\u0430\u043D\u0438\u0435 \u0437\u0430\u043F\u0438\u0441\u0438"}}),o(t.PostCreationForm)],1)},F=[],b=n(x,P,F,!1,null,null,null,null);const T=b.exports;export{T as default};
